<div class="grid">
	<div class="col-12">

    <div class="card">
      <form [formGroup]="seassonForm" (ngSubmit)="onSeasonFormSubmit()" novalidate>
          <h5>Nueva temporada</h5>
          <div class="formgroup-inline">
            <div class="col-12">
              <input pInputText formControlName="name" type="text" placeholder="Nombre de la temporada"/>
              <small class="p-error block" *ngIf="seassonForm.get('name')?.invalid && seassonForm.get('name')?.dirty">
                Por favor rellene el campo con un valor valido
              </small>
            </div>
            <div class="col-12">
              <button pButton pRipple icon="pi pi-check" label="AÃ±adir" severity="success"[disabled]="seassonForm.invalid"></button>
            </div>
          </div>
      </form>
    </div>

    <div class="card">
      <div class="col-12">
        <div>
          <app-ng-table
            [dataSource]="allSeasonItems"
            [columns]="getSeasonColumnDefinition()"
            [configuration]="getSeasonTableConfiguration()"
            (onClickRowEvent)="onClickRowEvent($event)"/>
            <div class="col-12">
              <button pButton pRipple icon="pi pi-check" label="Guardar" severity="success"(click)="onSaveAllSeasons()" [disabled]="seasonTableEditEnable"></button>
            </div>
        </div>
      </div>

    </div>

    <div class="card">
      <h5>Editar temporada</h5>

      <div class="col-12">
        <p-dropdown
          [(ngModel)]="seassonItemSelected"
          [options]="allSeasonItems"
          optionLabel="name"
          placeholder="Selecciona una temporada"
          (onChange)="onSelectSeason($event)"/>
      </div>

      <div class="card" *ngIf="seassonItemSelected">

        <div class="col-12">

          <div class="mb-5">
              <p-multiSelect
                [(ngModel)]="leaguesSelected"
                [options]="allLeagues"
                optionLabel="name"
                placeholder="Selecciona nuevas temporadas"/>
          </div>

          <div>
            <app-ng-table
              [dataSource]="leaguesSelected"
              [columns]="getLeagueColumnDefinition()"
              [configuration]="getLeagueTableConfiguration()"
              (onClickRowEvent)="onClickRowEventLeagueTable($event)"/>
          </div>

        </div>
        <div class="col-12">
          <button pButton pRipple icon="pi pi-check" label="Guardar" severity="success" (click)="onSaveSeason($event)" [disabled]="leagueTableEditEnable"></button>
        </div>
      </div>

    </div>
  </div>
</div>
